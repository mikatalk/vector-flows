(function(e){function n(n){for(var i,o,s=n[0],c=n[1],u=n[2],p=0,d=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);l&&l(n);while(d.length)d.shift()();return r.push.apply(r,u||[]),t()}function t(){for(var e,n=0;n<r.length;n++){for(var t=r[n],i=!0,s=1;s<t.length;s++){var c=t[s];0!==a[c]&&(i=!1)}i&&(r.splice(n--,1),e=o(o.s=t[0]))}return e}var i={},a={app:0},r=[];function o(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=i,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)o.d(t,i,function(n){return e[n]}.bind(null,i));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="//mikatalk.github.io/vector-flows/2d/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=n,s=s.slice();for(var u=0;u<s.length;u++)n(s[u]);var l=c;r.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var i=t("2b0e"),a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("div",{ref:"canvas-container",staticClass:"canvas-container"}),t("header",[t("span",{staticClass:"prefix"},[e._v("f(x,y) = ")]),t("span",{staticClass:"inputs-wrapper"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.input1,expression:"input1"}],class:{invalid:null===e.input1Func},attrs:{type:"text"},domProps:{value:e.input1},on:{input:function(n){n.target.composing||(e.input1=n.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.input2,expression:"input2"}],class:{invalid:null===e.input2Func},attrs:{type:"text"},domProps:{value:e.input2},on:{input:function(n){n.target.composing||(e.input2=n.target.value)}}})])])])},r=[],o=(t("498a"),t("d4ec")),s=t("bee2"),c=t("ade3"),u=t("5a89"),l=t("99de"),p=t("7e84"),d=t("262e"),A=function(e){function n(){var e;Object(o["a"])(this,n),e=Object(l["a"])(this,Object(p["a"])(n).call(this,{antialias:!0,alpha:!0})),e.setClearColor(0,0),e.setSize(e.windowWidth,e.windowHeight),e.setPixelRatio(window.devicePixelRatio),e.shadowMap.enabled=!1;var t=e.getContext();if(!t.getExtension("OES_texture_float"))throw alert("client support error - float textures not supported"),new Error("float textures not supported");if(0===t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS))throw alert("client support error - vertex shader cannot read textures"),new Error("vertex shader cannot read textures");return e}return Object(d["a"])(n,e),n}(u["o"]),v=(t("ace4"),t("d3b7"),t("cfc3"),t("9a8c"),t("a975"),t("735e"),t("c1ac"),t("d139"),t("3a7b"),t("d5d6"),t("82f8"),t("e91f"),t("60bd"),t("5f96"),t("3280"),t("3fcc"),t("ca91"),t("25a1"),t("cd26"),t("3c5d"),t("2954"),t("649e"),t("219c"),t("170b"),t("b39a"),t("72f7"),"data:image/png;base64,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"),f=function(e){function n(e){var t;Object(o["a"])(this,n);var i=new u["f"];i.copy(new u["i"](1,1,1,1));for(var a=[],r=[],s=[],c=[],d=[],A=e,f=e,h=2,g=0,w=h*f/2,m=h*A/2,y=0;y<A;y+=1)for(var b=0;b<f;b+=1)a.push(b*h-w,y*h-m,0),r.push(0),s.push(h),c.push(g+1),g+=1,d.push(0,1);i.setAttribute("offset",new u["e"](new Float32Array(a),3)),i.setAttribute("angle",new u["e"](new Float32Array(r),1)),i.setAttribute("scale",new u["e"](new Float32Array(s),1)),i.setAttribute("particleIndex",new u["e"](new Float32Array(c),1)),i.setAttribute("lifetime",new u["e"](new Float32Array(d),2));var x=new u["m"],O=new u["k"]({uniforms:{time:{value:1},orientation:{type:"v4",value:new u["j"]},inputSamples:{type:"t",value:null},gpgpuOffsets:{type:"t",value:null},mapper:x,colorBase:new u["n"](new u["c"](14286606)),colorStart:new u["n"](new u["c"](8811773)),colorPeak:new u["n"](new u["c"](973311)),colorEnd:new u["n"](new u["c"](3355443))},vertexShader:"\n    precision highp float;\n  \n    #define PI 3.1415926536\n    #define PI2 6.28318530718\n  \n    attribute vec3 position;\n    attribute vec3 offset;\n    attribute float scale;\n    \n    varying float vAlpha;\n    \n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n  \n    uniform float time;\n  \n    attribute float angle;\n    attribute vec2 uv;\n    varying vec2 vUv;\n  \n    varying vec4 vSample;\n    \n    attribute float particleIndex;\n  \n    uniform sampler2D inputSamples;\n    uniform sampler2D gpgpuOffsets;\n    varying float vParticleIndex;\n  \n    uniform vec4 orientation;\n    \n    vec3 applyQuaternionToVector( vec4 q, vec3 v ){\n      return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );\n    }\n  vec2 rotate(vec2 v, float a) {\n    float s = sin(a);\n    float c = cos(a);\n    mat2 m = mat2(c, -s, s, c);\n    return m * v;\n  }\n  \n    void main(){\n      vec3 pos = position * vec3(scale, scale, 1.0);\n      pos = applyQuaternionToVector(orientation, pos);\n      pos.xy = rotate(pos.xy, angle);\n      pos = pos + offset;\n      vUv = vec2(uv.x, 1.0-uv.y);\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0 );\n    }\n  ",fragmentShader:"\n    precision highp float;\n  \n    // varying float vAlpha;\n    varying vec4 vSample;  \n    varying vec2 vUv;\n    varying float vParticleIndex;\n    varying vec2 vLifetime;\n  \n    uniform float time;\n  \n    uniform vec3 colorBase;\n    uniform vec3 colorStart;\n    uniform vec3 colorPeak;\n    uniform vec3 colorEnd;\n    uniform sampler2D mapper;\n  \n    #define PI 3.1415926536\n    #define PI2 6.28318530718\n  \n  \n    float drawBase (in vec2 uv, in float min, in float max) {\n      float dist = sqrt(dot(uv, uv));\n      if (dist >= max || dist <= min) {\n        return 0.0;\n      }\n      float sm = smoothstep(max, max - 0.01, dist);\n      float sm2 = smoothstep(min, min - 0.01, dist);\n      float alpha = sm * sm2;\n      return (1.0-alpha);\n    }\n  \n    void main() {\n  \n  vec4 color = texture2D(mapper, vec2(vUv.x, 1.0 - vUv.y));\n  \n  // if (color.a == 0.0) {\n  // discard;\n  // }\n  gl_FragColor = vec4(0.2,0.1,0.4, min(1.0, color.a * 10.0));\n  \n   \n    }\n  ",side:u["d"],transparent:!0,alphaTest:.1,color:16711935,blending:u["a"]});return x.load(v,(function(e){O.uniforms.mapper.value=e})),t=Object(l["a"])(this,Object(p["a"])(n).call(this,i,O)),t.textureSize=e,t}return Object(d["a"])(n,e),Object(s["a"])(n,[{key:"updateFunctions",value:function(e,n){for(var t=this.geometry.attributes.angle.array,i=this.textureSize,a=this.textureSize,r=0,o=0;o<i;o+=1)for(var s=0;s<a;s+=1){var c=e(s-a/2,o-i/2),u=n(s-a/2,o-i/2);t[r]=Math.atan2(c,u),r+=1}this.geometry.attributes.angle.needsUpdate=!0}}]),n}(u["g"]),h=function(){function e(n,t,i){var a=this;Object(o["a"])(this,e),Object(c["a"])(this,"renderer",void 0),Object(c["a"])(this,"scene",void 0),Object(c["a"])(this,"camera",void 0),Object(c["a"])(this,"clock",void 0),Object(c["a"])(this,"renderCallBack",void 0),Object(c["a"])(this,"loop",(function(){a.renderCallBack=requestAnimationFrame(a.loop),a.render()})),Object(c["a"])(this,"handleWindowResize",(function(){a.stageWidth=window.innerWidth,a.stageHeight=window.innerHeight,a.renderer.setSize(a.stageWidth,a.stageHeight);var e=15;a.camera.left=-window.innerWidth/e,a.camera.right=window.innerWidth/e,a.camera.top=window.innerHeight/e,a.camera.bottom=-window.innerHeight/e,a.camera.updateProjectionMatrix()})),this.container=n,this.op1=t,this.op2=i,this.clock=new u["b"],this.renderer=new A;var r=100/window.innerHeight;this.camera=new u["h"](window.innerWidth*r/-2,window.innerWidth*r/2,window.innerHeight*r/2,window.innerHeight*r/-2,1,1e3),this.scene=new u["l"],this.container.appendChild(this.renderer.domElement);var s=32;this.particles=new f(s),this.scene.add(this.particles),this.addListeners(),this.handleWindowResize(),this.loop()}return Object(s["a"])(e,null,[{key:"initialize",value:function(n,t,i){e.instance||(e.instance=new e(n,t,i))}},{key:"destroy",value:function(){e.instance&&e.instance.destroy()}},{key:"updateFunctions",value:function(n,t){e.instance&&e.instance.updateFunctions(n,t)}}]),Object(s["a"])(e,[{key:"render",value:function(){this.camera.position.set(0,0,100),this.renderer.clear(),this.renderer.render(this.scene,this.camera)}},{key:"updateFunctions",value:function(e,n){this.particles.updateFunctions(e,n)}},{key:"destroy",value:function(){window.cancelAnimationFrame(this.renderCallBack),this.simulation.destroy(),this.removeListeners()}},{key:"addListeners",value:function(){window.addEventListener("resize",this.handleWindowResize,!1)}},{key:"removeListeners",value:function(){window.removeEventListener("resize",this.handleWindowResize)}}]),e}();Object(c["a"])(h,"instance",null);var g=t("326a"),w=function(){return 0},m={name:"App",data:function(){return{input1:"sin(y)-cos(x)",input2:"sin(x)+sin(y)",input1Func:w,input2Func:w}},mounted:function(){h.initialize(this.$refs["canvas-container"]),this.input1Func=Object(g["a"])("f(x, y) = ".concat(this.input1)),this.input2Func=Object(g["a"])("f(x, y) = ".concat(this.input2)),h.updateFunctions(this.input1Func,this.input2Func)},beforeDestroy:function(){h.destroy()},watch:{input1:function(){var e=this.input1.trim().toLowerCase();if(""===e)this.input1Func=w;else{var n="f(x, y) = ".concat(e);try{this.input1Func=Object(g["a"])(n),this.sendToTracer()}catch(t){this.input1Func=null}}},input2:function(){var e=this.input2.trim().toLowerCase();if(""===e)this.input2Func=w;else{var n="f(x, y) = ".concat(e);try{this.input2Func=Object(g["a"])(n),this.sendToTracer()}catch(t){this.input2Func=null}}}},methods:{sendToTracer:function(){this.input1Func&&this.input2Func&&h.updateFunctions(this.input1Func,this.input2Func)}}},y=m,b=(t("5c0b"),t("2877")),x=Object(b["a"])(y,a,r,!1,null,null,null),O=x.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(O)}}).$mount("#app")},"5c0b":function(e,n,t){"use strict";var i=t("9c0c"),a=t.n(i);a.a},"9c0c":function(e,n,t){}});
//# sourceMappingURL=app.63c963e4.js.map