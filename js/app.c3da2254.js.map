{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?07cf","webpack:///./src/engine/Renderer.js","webpack:///./src/engine/ParticleSystem.js","webpack:///./src/engine/Stage.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?c650"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","ref","staticClass","_v","directives","rawName","expression","class","input1Func","domProps","on","$event","target","composing","input1","input2Func","input2","staticRenderFns","Renderer","antialias","alpha","setClearColor","setSize","windowWidth","windowHeight","setPixelRatio","devicePixelRatio","shadowMap","enabled","gl","getContext","getExtension","alert","Error","getParameter","MAX_VERTEX_TEXTURE_IMAGE_UNITS","WebGLRenderer","imageURI","ParticleSystem","textureSize","geometry","InstancedBufferGeometry","copy","PlaneBufferGeometry","offsets","angles","scales","indexes","lifetimes","numberOfRows","numberOfColumns","stepSize","offsetX","offsetY","y","x","setAttribute","InstancedBufferAttribute","Float32Array","textureLoader","TextureLoader","material","RawShaderMaterial","uniforms","time","orientation","type","Quaternion","inputSamples","gpgpuOffsets","mapper","colorBase","Uniform","Color","colorStart","colorPeak","colorEnd","vertexShader","fragmentShader","side","FrontSide","transparent","alphaTest","color","blending","AdditiveBlending","load","texture","op1","op2","attributes","angle","array","res1","res2","Math","atan2","needsUpdate","Mesh","Stage","container","renderCallBack","requestAnimationFrame","loop","render","stageWidth","innerWidth","stageHeight","innerHeight","renderer","camFactor","camera","left","right","top","bottom","updateProjectionMatrix","clock","Clock","aspectRatio","OrthographicCamera","scene","Scene","appendChild","domElement","particles","add","addListeners","handleWindowResize","instance","destroy","updateFunctions","position","set","clear","cancelAnimationFrame","simulation","removeListeners","addEventListener","removeEventListener","mounted","beforeDestroy","watch","text","noop","sendToTracer","methods","component","Vue","config","productionTip","h","App","$mount"],"mappings":"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","file":"js/app.c3da2254.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"//mikatalk.github.io/vector-flows/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{ref:\"canvas-container\",staticClass:\"canvas-container\"}),_c('header',[_c('span',{staticClass:\"prefix\"},[_vm._v(\"f(x,y) = \")]),_c('span',{staticClass:\"inputs-wrapper\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input1),expression:\"input1\"}],class:{'invalid':_vm.input1Func === null},attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.input1)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.input1=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input2),expression:\"input2\"}],class:{'invalid':_vm.input2Func === null},attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.input2)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.input2=$event.target.value}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { WebGLRenderer } from 'three'\n\nexport default class Renderer extends WebGLRenderer {\n  constructor () {\n    super ({\n      antialias: true,\n      // antialias: false,\n      alpha: true,\n    })\n\n    this.setClearColor(0, 0)\n    this.setSize(this.windowWidth, this.windowHeight)\n    this.setPixelRatio(window.devicePixelRatio)\n    this.shadowMap.enabled = false\n\n    const gl = this.getContext()\n    if (!gl.getExtension('OES_texture_float')) {\n      alert('client support error - float textures not supported')\n      throw new Error('float textures not supported')\n    }\n    // we need to access textures from within the vertex shader\n    //https://github.com/KhronosGroup/WebGL/blob/90ceaac0c4546b1aad634a6a5c4d2dfae9f4d124/conformance-suites/1.0.0/extra/webgl-info.html\n    if (gl.getParameter(gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS) === 0) {\n      alert('client support error - vertex shader cannot read textures')\n      throw new Error('vertex shader cannot read textures')\n    } \n  }\n}\n","import { Mesh, InstancedBufferGeometry, InstancedBufferAttribute, PlaneBufferGeometry, TextureLoader, RawShaderMaterial, Quaternion, Uniform, Color, FrontSide,\n  // NormalBlending,\n  AdditiveBlending\n} from 'three'\n\nconst imageURI = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAARBJREFUeNrs1jFKA1EQh/FvZDs7C8uQxgvEAxjwCjlASJ/S+3gU09noBWzEMr1dYNJMwhKsLHbDvm/gsY95xfJ+/AdeZCZDVUSc95l5X719r8fQdcN4ta01asUYCcjMW+Cn2rOI+G0tARvgrtamqQRkZgd8AfNqfwMPEXFoJQGr3uWp/aqlBHwAi4ujz4h4nHwCMvP5j8sDLOps8iPw8s+zaYwA8AScXkPr+r6eAgLshgboBtWO2PXGYVm9t1ZfgldRAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAggwsepG/Pf7NQAcAQAA//8DAIgXRXIrWwAaAAAAAElFTkSuQmCC\"\n\nexport default class ParticleSystem extends Mesh {\n\n  constructor (textureSize) {\n\n    // const radius = 50\n    // const numberOfParticles = textureSize * textureSize\n    // create an instanced buffer from a plane buffer geometry \n    const geometry = new InstancedBufferGeometry()\n    geometry.copy(new PlaneBufferGeometry(1, 1, 1, 1))\n    \n    // Add/generate attributes buffers for the geometry\n    const offsets = []\n    const angles = []\n    const scales = []\n    const indexes = []\n    const lifetimes = []\n    // const spacing = 2\n    // const halfOffset = textureSize * spacing / 2\n\n    const numberOfRows = textureSize\n    const numberOfColumns = textureSize\n    const stepSize = 2\n    let i = 0\n    const offsetX = stepSize * numberOfColumns / 2\n    const offsetY = stepSize * numberOfRows / 2\n    for (let y = 0; y < numberOfRows; y += 1) {\n      for (let x = 0; x < numberOfColumns; x += 1) {\n\n      // for (let i = 0; i < numberOfParticles; i += 1) {\n        offsets.push(\n          -offsetX + x * stepSize,\n          -offsetY + y * stepSize, 0\n          // 0, 0, 0\n        )\n        angles.push(0)//Math.random()*Math.PI)\n        scales.push(stepSize)\n        indexes.push(i + 1)\n        i += 1\n        // lifetimes.push(0, 0.5 + Math.random() / 2)\n        lifetimes.push(0, 1)\n      }\n    }\n    geometry.setAttribute('offset', new InstancedBufferAttribute(new Float32Array(offsets), 3))\n    geometry.setAttribute('angle', new InstancedBufferAttribute(new Float32Array(angles), 1))\n    geometry.setAttribute('scale', new InstancedBufferAttribute(new Float32Array(scales), 1))\n    geometry.setAttribute('particleIndex', new InstancedBufferAttribute(new Float32Array(indexes), 1))\n    geometry.setAttribute('lifetime', new InstancedBufferAttribute(new Float32Array(lifetimes), 2))\n      \n    \n    const textureLoader = new TextureLoader()\n    const material = new RawShaderMaterial( {\n      uniforms: {\n        time: { value: 1.0 },\n        orientation: {type: 'v4', value: new Quaternion()},\n        inputSamples: {type: 't', value: null },\n        gpgpuOffsets: {type: 't', value: null },\n        mapper: textureLoader,\n        // map: new TextureLoader().load('https://i.imgur.com/h1v0P5s.jpg'),\n        colorBase: new Uniform(new Color(0xd9ff0e)),\n        colorStart: new Uniform(new Color(0x8674fd)),\n        colorPeak: new Uniform(new Color(0x0ed9ff)),\n        colorEnd: new Uniform(new Color(0x333333)),\n      },\n      vertexShader: `\n    precision highp float;\n  \n    #define PI 3.1415926536\n    #define PI2 6.28318530718\n  \n    attribute vec3 position;\n    attribute vec3 offset;\n    attribute float scale;\n    \n    varying float vAlpha;\n    \n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n  \n    uniform float time;\n  \n    attribute float angle;\n    attribute vec2 uv;\n    varying vec2 vUv;\n  \n    varying vec4 vSample;\n    \n    attribute float particleIndex;\n  \n    uniform sampler2D inputSamples;\n    uniform sampler2D gpgpuOffsets;\n    varying float vParticleIndex;\n  \n    uniform vec4 orientation;\n    \n    vec3 applyQuaternionToVector( vec4 q, vec3 v ){\n      return v + 2.0 * cross( q.xyz, cross( q.xyz, v ) + q.w * v );\n    }\n  vec2 rotate(vec2 v, float a) {\n    float s = sin(a);\n    float c = cos(a);\n    mat2 m = mat2(c, -s, s, c);\n    return m * v;\n  }\n  \n    void main(){\n      vec3 pos = position * vec3(scale, scale, 1.0);\n      pos = applyQuaternionToVector(orientation, pos);\n      pos.xy = rotate(pos.xy, angle);\n      pos = pos + offset;\n      vUv = vec2(uv.x, 1.0-uv.y);\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0 );\n    }\n  `,\n      fragmentShader: `\n    precision highp float;\n  \n    // varying float vAlpha;\n    varying vec4 vSample;  \n    varying vec2 vUv;\n    varying float vParticleIndex;\n    varying vec2 vLifetime;\n  \n    uniform float time;\n  \n    uniform vec3 colorBase;\n    uniform vec3 colorStart;\n    uniform vec3 colorPeak;\n    uniform vec3 colorEnd;\n    uniform sampler2D mapper;\n  \n    #define PI 3.1415926536\n    #define PI2 6.28318530718\n  \n  \n    float drawBase (in vec2 uv, in float min, in float max) {\n      float dist = sqrt(dot(uv, uv));\n      if (dist >= max || dist <= min) {\n        return 0.0;\n      }\n      float sm = smoothstep(max, max - 0.01, dist);\n      float sm2 = smoothstep(min, min - 0.01, dist);\n      float alpha = sm * sm2;\n      return (1.0-alpha);\n    }\n  \n    void main() {\n  \n  vec4 color = texture2D(mapper, vec2(vUv.x, 1.0 - vUv.y));\n  \n  // if (color.a == 0.0) {\n  // discard;\n  // }\n  gl_FragColor = vec4(0.2,0.1,0.4, min(1.0, color.a * 10.0));\n  \n   \n    }\n  `,\n      // side: DoubleSide,\n      side: FrontSide, // only front since the plane will always face the camera\n      transparent: true,\n      alphaTest: 0.1,\n      color: 0xff00ff,\n      // blending: NormalBlending\n      // blending: MultiplyBlending\n      blending: AdditiveBlending\n    })\n    \n   \n      textureLoader.load(imageURI, (texture) => {\n      material.uniforms.mapper.value = texture\n    })\n\n    \n    super(geometry, material)\n        \n    this.textureSize = textureSize\n\n\n  }\n\n  updateFunctions (op1, op2) {\n    const angles = this.geometry.attributes.angle.array\n    const numberOfRows = this.textureSize\n    const numberOfColumns = this.textureSize\n    let i = 0\n    for (let y = 0; y < numberOfRows; y += 1) {\n      for (let x = 0; x < numberOfColumns; x += 1) {\n        const res1 = op1(x - numberOfColumns/2, y - numberOfRows/2)\n        const res2 = op2(x - numberOfColumns/2, y - numberOfRows/2)\n        angles[i] = Math.atan2(res2, res1)\n        i += 1\n      }\n    }\n    this.geometry.attributes.angle.needsUpdate = true\n  }\n}\n","import { Clock, Scene, OrthographicCamera } from 'three'\n// import { b2Vec2, b2World, b2BodyDef, b2MouseJointDef, b2AABB } from './liquidfun/ExternalsResolver'\n// import DynamicBodyQueryCallback from './liquidfun/DynamicBodyQueryCallback'\n// import {lerp} from './../utils/lerp'\n// import DebugLayer from './DebugLayer'\n// import LiquidParticles from './LiquidParticles'\nimport Renderer from './Renderer'\nimport ParticleSystem from './ParticleSystem'\n// import GPGPU from './GPGPU'\n// import Simulation from './Simulation'\n// import { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer'\n// import { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass'\n// import { RenderPass } sfrom 'three/examples/jsm/postprocessing/RenderPass'\n// import { LiquidShader } from './LiquidShader'\n// import { CopyShader } from 'three/examples/jsm/shaders/CopyShader.js';\n// import { LayersBlendShader } from './LayersBlendShader.js';\n// import Penguin from './Penguin'\n\nexport default class Stage {\n\n  static instance = null\n  \n  static initialize (container, op1, op2) {\n    if (!Stage.instance) {\n      Stage.instance = new Stage(container, op1, op2)\n    }\n  }\n  \n  static destroy () {\n    Stage.instance && Stage.instance.destroy()\n  }\n  \n  static updateFunctions(op1, op2) {\n    Stage.instance && Stage.instance.updateFunctions(op1, op2)\n  }\n  \n  // settings:\n  settings = {\n  }\n\n  // three:\n  renderer\n  scene\n  camera\n  clock\n  renderCallBack\n\n  constructor (container, op1, op2) {\n\n    this.container = container\n    this.op1 = op1\n    this.op2 = op2\n\n    this.clock = new Clock()\n\n    this.renderer = new Renderer()\n    \n\n    const aspectRatio = 100 / window.innerHeight\n    this.camera = new OrthographicCamera( \n      window.innerWidth * aspectRatio / - 2, \n      window.innerWidth * aspectRatio / 2, \n      window.innerHeight * aspectRatio / 2, \n      window.innerHeight * aspectRatio / - 2,\n      1, 1000 );\n    // this.camera = ne(\n    //   /* fov */    70,\n    //   /* aspect */ window.innerWidth / window.innerHeight,\n    //   /* near */   0.001,\n    //   /* far */    50\n    // )\n    \n    this.scene = new Scene()\n    \n    this.container.appendChild(this.renderer.domElement)\n    \n    const textureSize = 32\n    this.particles = new ParticleSystem(textureSize)\n    this.scene.add(this.particles)\n   \n    \n\n    // this.video.play()\n    // // this.video.pause()\n    // this.video.currentTime = 28\n    // const texture = new VideoTexture(this.video)\n\n    // this.particles.material.uniforms.inputSamples.value = texture\n\n    \n    // const geometry = new BoxGeometry(1,1,1)\n    // const material = new MeshBasicMaterial({color: 0xff0000})\n    // const cube = new Mesh(geometry,material)\n    // this.scene.add(cube)\n    \n  //   this.gpgpu = new GPGPU(this.renderer, textureSize)\n  //   this.particles.material.uniforms.gpgpuOffsets.value = this.gpgpu.simulate(0,0)\n  // // this.createParticles(32)\n    \n    this.addListeners()\n    this.handleWindowResize()\n    this.loop()\n  }\n\n  loop = () => {\n    this.renderCallBack = requestAnimationFrame(this.loop)\n    this.render()\n  }\n    \n  render () {\n    // console.log(this.video.currentTime)\n    this.camera.position.set(0, 0, 100)\n    // const delta = this.clock.getDelta() * 1\n    // const elapsedTime = this.clock.getElapsedTime()\n    // this.particles.material.uniforms.gpgpuOffsets.value = this.gpgpu.simulate(delta, elapsedTime)\n    this.renderer.clear()\n    this.renderer.render(this.scene, this.camera)\n  }\n  \n  updateFunctions (op1, op2) {\n    this.particles.updateFunctions(op1, op2)\n  }\n\n  handleWindowResize = () => {\n    this.stageWidth = window.innerWidth\n    this.stageHeight = window.innerHeight\n    this.renderer.setSize(this.stageWidth, this.stageHeight)\n    const camFactor = 15\n    this.camera.left = -window.innerWidth / camFactor\n    this.camera.right = window.innerWidth / camFactor\n    this.camera.top = window.innerHeight / camFactor\n    this.camera.bottom = -window.innerHeight / camFactor\n    this.camera.updateProjectionMatrix()\n  }\n\n  destroy () {\n    window.cancelAnimationFrame(this.renderCallBack)\n    this.simulation.destroy()\n    this.removeListeners()\n  }\n\n  addListeners () {\n    window.addEventListener('resize', this.handleWindowResize, false)\n  }\n\n  removeListeners () {\n    window.removeEventListener('resize', this.handleWindowResize)\n  }\n\n}\n  ","<template>\n  <div id=\"app\">\n    <!-- <video ref=\"video\" loop crossOrigin=\"anonymous\" playsinline style=\"display:none\">\n\t\t\t<source src=\"/penguins.mp4\" type='video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"'>\n\t\t</video> -->\n\n    <div class=\"canvas-container\" ref=\"canvas-container\"></div>\n\n    <header>\n      <span class=\"prefix\">f(x,y) = </span>\n      <span class=\"inputs-wrapper\">\n        <input \n          v-model=\"input1\" \n          :class=\"{'invalid':input1Func === null}\"\n          type=\"text\" />\n        <input \n          v-model=\"input2\" \n          :class=\"{'invalid':input2Func === null}\"\n          type=\"text\" />\n      </span>\n      <!-- <button\n        @click=\"evaluate\"\n        :class=\"{'invalid':input1Func === null || input2Func === null}\">\n        Evaluate\n      </button>  -->\n</header>\n    \n  </div>\n</template>\n\n<script>\nimport Stage from './engine/Stage'\n\nimport { evaluate } from 'mathjs'\n// const parser = math.parser()\n// console.log(\"parser.evaluate('f(x, y) = x^y') \")\n// console.log('evaluation:')\n// console.log(evaluate('f(x, y) = x^y') )\nconst noop = () => 0\n\nexport default {\n  name: 'App',\n  data: () => ({\n    // input1: 'x',\n    // input2: 'y',\n    input1: 'sin(y)-cos(x)',\n    input2: 'sin(x)+sin(y)',\n    // input1Func: evaluate(`f(x, y) = ${this.input1}`),\n    // input2Func: evaluate(`f(x, y) = ${this.input2}`),\n    input1Func: noop,\n    input2Func: noop,\n    // input1: 'y^3-4y',\n    // input2: 'x^3-9x',\n  }),\n  mounted () {\n      Stage.initialize(this.$refs['canvas-container'])\n      this.input1Func = evaluate(`f(x, y) = ${this.input1}`)\n      this.input2Func = evaluate(`f(x, y) = ${this.input2}`)\n      Stage.updateFunctions(this.input1Func, this.input2Func)\n  },\n  beforeDestroy () {\n    Stage.destroy()\n  },\n  watch: {\n    input1 () {\n      const text = this.input1.trim().toLowerCase()\n      if (text === '') {\n        this.input1Func = noop\n      } else {\n        const input = `f(x, y) = ${text}`\n        try {\n          this.input1Func = evaluate(input)\n          this.sendToTracer()\n        } catch (error) {\n          this.input1Func = null\n        }\n      }\n    },\n    input2 () {\n      const text = this.input2.trim().toLowerCase()\n      if (text === '') {\n        this.input2Func = noop\n      } else {\n        const input = `f(x, y) = ${text}`\n        try {\n          this.input2Func = evaluate(input)\n          this.sendToTracer()\n        } catch (error) {\n          this.input2Func = null\n        }\n      }\n    }\n  },\n  methods: {\n    sendToTracer () {\n      if (this.input1Func && this.input2Func) {\n        Stage.updateFunctions(this.input1Func, this.input2Func)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\nbody {\n  background: white;\n  margin: 0;\n  overflow: hidden;\n  font-size: 19px;\n  .canvas-container {\n    width: 100vw;\n    height: 100vh;\n    position: relative;\n    // background: #bcf5ff;\n    canvas {\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n    }\n  }\n  header {\n    position: fixed;\n    top: 0.5rem;\n    left: 0.5rem;\n    right: 0.5rem;\n    z-index: +1;\n    background: rgba(white, 0.8);\n    font-family: Bradley Hand, Brush Script MT, Chalkduster, Comic Sans MS;\n    font-weight: 100;\n    font-size: 2rem;\n    color: black;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: center;\n    .prefix {\n    }\n    .inputs-wrapper {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      margin: 0 1rem;\n      padding: 0rem 2rem;\n      position: relative;\n      &:before,\n      &:after {\n        content: \" \";\n        position: absolute;\n        display: block;\n        top: 0;\n        bottom: 0;\n        border: 2px solid black;\n        width: 1rem;\n        border-radius: 4px;\n      }\n      &:before {\n        right: auto;\n        left: 0;\n        border-right: 4px solid transparent;\n      }\n      &:after {\n        right: 0;\n        left: auto;\n        border-left: 4px solid transparent;\n      }\n\n      input {\n        background: transparent;\n        outline: none;\n        color: black;\n        border: none;\n        border: 2px solid transparent;\n        border-bottom-color: #4c73b4;\n        font-size: 1.6rem;\n        width: 100%;\n        max-width: 160px;\n        text-align: center;\n        margin: 0.5rem 0;\n        transition: all ease-out 1000ms;\n        border-radius: 2px;\n        font-family: Comic Sans MS;\n        font-weight: 100;\n        &.invalid,\n        &.invalid:focus {\n          background: rgba(#ff7364, 0.3);\n          border-bottom-color: lighten(#ff7364, 10%);\n        }\n        &:focus {\n          transition: all ease-in 120ms;\n          outline: none;\n          background: rgba(#4c73b4, 0.3);\n          border-bottom-color: lighten(#4c73b4, 10%);\n        }\n      }\n    }\n    \n    button {\n      border: 2px solid #4c73b4;\n      border-radius: 5px;\n      color: black;\n      background: white;\n      font-weight: 600;\n      font-size: 1.4rem;\n      line-height: 2rem;\n      padding: 0.25rem 1rem;\n      font-family: Comic Sans MS;\n      font-weight: 100;\n      transition: all ease-out 500ms;\n      cursor: pointer;\n      &:hover {\n        transition: all ease-in 120ms;\n        color: white;\n        border: 2px solid darken(#4c73b4, 10%);\n        background: rgba(#4c73b4, 0.9);\n      }\n      &.invalid,\n      &.invalid:focus {\n        background: rgba(#ff7364, 0.3);\n        border-color: lighten(#ff7364, 10%);\n        color: lighten(#ff7364, 10%);\n        opacity: 0.8;\n      }\n      &:focus {\n        outline: none;\n        border: 2px solid darken(#4c73b4, 10%);\n        background: rgba(#4c73b4, 0.2);\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=c7e7a33a&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}